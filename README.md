*******************************************************************************
* คู่มือสรุปฟีเจอร์ (Feature Summary Manual) *
* KAHIS EMR Prototype - v1.0 (Demo) *
*******************************************************************************
15 Nov 2025 01:32

โปรเจกต์นี้เป็นการสาธิต (Prototype) ระบบเวชระเบียน (EMR) บนเว็บ
โดยใช้เทคนิคการแบ่งไฟล์และโหลดเนื้อหาแบบไดนามิก (Dynamic Loading)

ไฟล์ที่ใช้ประกอบ (5 ไฟล์):
- index.html               (ไฟล์โครงสร้างหลัก, HTML ของ Modals ทั้งหมด)
- app.js                   (ไฟล์ JavaScript ควบคุมการทำงานทั้งหมด)
- assessment_content.html  (เนื้อหาโมดูล Assessment ที่ถูกโหลด)
- kahis-theme.css          (ไฟล์สไตล์, ธีม Dark/Light)
- eyeexam.png              (ภาพพื้นหลังสำหรับวาด)

===============================================================================

+-[ 1. โครงสร้างหลัก (Core Structure) ]-------------------------+
|
|  * โครงสร้างแบบ Shell (SPA-like):
|    - ใช้ 'index.html' เป็น "เปลือก" (Shell) ที่มีเมนูคงที่
|    - เมื่อหน้าเว็บโหลดเสร็จ เนื้อหาจาก 'assessment_content.html' 
|      จะถูกดึง (fetch) และฉีด (inject) เข้ามาใน <main>
|    - เทคนิค: JavaScript Fetch API + innerHTML
|
|  * โหมดกลางคืน (Dark Mode):
|    - ปุ่ม Toggle ที่มุมล่างขวาสำหรับสลับธีม สว่าง (Light) / มืด (Earth Tone)
|    - เทคนิค: CSS Variables (:root, .dark) + localStorage (เพื่อจดจำค่า)
|
|  * ปุ่ม Copy (ใน Assessment):
|    - ทำงานได้เฉพาะหลังจาก 'assessment_content.html' โหลดเสร็จ
|    - เทคนิค: เรียกฟังก์ชัน `initializeAssessmentScripts()` 
|      หลังจาก `fetch()` สำเร็จ
|
+--------------------------------------------------------------+


+-[ 2. ระบบหน้าต่าง Popup (Modal System) ]---------------------+
|
|  * หน้าต่างพื้นฐาน (DF, TF, Problem List):
|    - แสดงเนื้อหาฟอร์มและตารางเลือกข้อมูล (กู้คืนเนื้อหาครบถ้วน)
|    - เทคนิค: ควบคุมการแสดงผลด้วย CSS class 'hidden' ผ่าน JavaScript
|
|  * หน้าต่างแบบแท็บ (Vital Signs & Eye Exam):
|    - มีแท็บ "History" และ "New..." ภายในหน้าต่างเดียว
|    - เทคนิค: JavaScript + Data Attributes ในการสลับเนื้อหาที่ซ่อนอยู่
|
+--------------------------------------------------------------+


+-[ 3. โมดูล Vital Signs ]-------------------------------------+
|
|  * ตารางประวัติ (History):
|    - (แก้ไข) เรียงลำดับคอลัมน์ใหม่ทั้งหมดตามที่ขอ (Temp, RR, HR...)
|    - (แก้ไข) เปลี่ยนหัวตาราง "Mucous" เป็น "MM"
|    - (แก้ไข) ข้อมูลตัวอย่าง (Demo Data) มีการผสม "ค่าว่าง" (`null` or `""`)
|    - (แก้ไข) แสดงผลค่าว่างเป็นช่องว่าง ("") แทน "N/A"
|
|  * ฟอร์ม (New Vital Signs):
|    - (แก้ไข) กู้คืนเนื้อหาฟอร์มที่หายไปกลับมาครบถ้วน
|
|  * กราฟ (Charts):
|    - ปุ่ม "BP Chart" และ "Vital Signs Chart" 
|    - เทคนิค: สร้างหน้าต่าง Popup ใหม่และวาดกราฟด้วย Chart.js
|
+--------------------------------------------------------------+


+-[ 4. โมดูล Eye Exam ]----------------------------------------+
|
|  * ตารางประวัติ (History):
|    - (แก้ไข) แสดงข้อมูลครบถ้วนทั้ง 14 คอลัมน์ (PLR, Palpebral, Dazzle...)
|    - (แก้ไข) เพิ่มข้อมูลตัวอย่าง (Demo Data) เป็น 6 รายการ
|    - (แก้ไข) คอลัมน์ "Image" แสดงภาพ 'eyeexam.png' (ไฟล์ที่คุณเพิ่ม)
|    - (แก้ไข) แสดงผลค่าว่างเป็นช่องว่าง ("") แทน "N/A"
|    - (แก้ไข) แก้บั๊ก Sticky Header/Column (หัวตารางและคอลัมน์แรก) 
|      ให้ทำงานถูกต้อง ไม่โดนทับ
|
|  * ฟอร์ม (New Eye Exam):
|    - (แก้ไข) เปลี่ยนช่องกรอก PLR, Menace ฯลฯ เป็น Dropdown
|    - (แก้ไข) Dropdown แสดง Placeholder (สีเทา) ตามตัวอย่าง
|
+--------------------------------------------------------------+


+-[ 5. ฟีเจอร์พิเศษ (Special Features) ]-----------------------+
|
|  * 5.1) แป้นตัวเลข (Numpad):
|    - (แก้ไข) แก้บั๊ก `class_name` ทำให้ Numpad กลับไปซ่อนเป็น Modal
|    - เมื่อคลิกช่อง STT หรือ IOP (ที่เป็น `readonly`) จะเปิด Numpad
|    - เทคนิค: JavaScript + Event Delegation
|
|  * 5.2) เครื่องมือวาดภาพ (Drawing Tool Demo):
|    - (แก้ไข) ยุบปุ่มเหลือ "Open Eye Diagram (Demo)" ปุ่มเดียว
|    - (แก้ไข) โหลดภาพ 'eyeexam.png' จากโฟลเดอร์มาเป็นพื้นหลัง
|    - (แก้ไข) เพิ่มปุ่ม "Undo" (ย้อนกลับ) และ "Clear" (ลบทั้งหมด)
|    - เทคนิค: ใช้ Library 'Fabric.js' บน <canvas>
|
|  * 5.3) โปรแกรมดูภาพ (Image Viewer):
|    - คลิกที่รูปภาพ Thumbnail ในตารางประวัติ Eye Exam
|    - Modal จะเปิดขึ้นมาแสดงภาพขนาดเต็ม
|
+--------------------------------------------------------------+

===============================================================================
* END OF SUMMARY FILE                     *
===============================================================================
